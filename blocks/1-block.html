<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>PL/SQL Лабы. Блок 1</title>
    <meta charset="UTF-8">
    <link rel="icon" href="./../img/icons/database.png">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link rel="stylesheet" href="./../css/main.css">
  </head>
  <body>
    <nav id="menu"><a class="element" id="menu-switch">
        <div class="icon-part"><i class="fas fa-bars"></i></div>
        <div class="text-part"></div></a><a class="element" href="../index.html">
        <div class="icon-part"><i class="fas fa-home"></i></div>
        <div class="text-part">На главную</div></a><a class="element link" href="https://github.com/Ruminat/PL-SQL-labs">
        <div class="icon-part"><i class="fab fa-github"></i></div>
        <div class="text-part">GitHub</div></a><a class="element" href="#lab-1">
        <div class="icon-part">1.</div>
        <div class="text-part">лабораторная</div></a><a class="element sub" id="contents-task-1-1" href="#task-1-1">
        <div class="icon-part">1.</div>
        <div class="text-part">задание</div></a><a class="element sub" id="contents-task-1-2" href="#task-1-2">
        <div class="icon-part">2.</div>
        <div class="text-part">задание</div></a><a class="element" href="#lab-2">
        <div class="icon-part">2.</div>
        <div class="text-part">лабораторная</div></a><a class="element sub" id="contents-task-2-1" href="#task-2-1">
        <div class="icon-part">1.</div>
        <div class="text-part">задание</div></a><a class="element sub" id="contents-task-2-2" href="#task-2-2">
        <div class="icon-part">2.</div>
        <div class="text-part">задание</div></a><a class="element sub" id="contents-task-2-3" href="#task-2-3">
        <div class="icon-part">3.</div>
        <div class="text-part">задание</div></a><a class="element sub" id="contents-task-2-4" href="#task-2-4">
        <div class="icon-part">4.</div>
        <div class="text-part">задание</div></a><a class="element sub" id="contents-task-2-5" href="#task-2-5">
        <div class="icon-part">5.</div>
        <div class="text-part">задание</div></a><a class="element" href="#lab-3">
        <div class="icon-part">3.</div>
        <div class="text-part">лабораторная</div></a><a class="element sub" id="contents-task-3-1" href="#task-3-1">
        <div class="icon-part">1.</div>
        <div class="text-part">задание</div></a><a class="element sub" id="contents-task-3-2" href="#task-3-2">
        <div class="icon-part">2.</div>
        <div class="text-part">задание</div></a><a class="element sub" id="contents-task-3-3" href="#task-3-3">
        <div class="icon-part">3.</div>
        <div class="text-part">задание</div></a><a class="element sub" id="contents-task-3-4" href="#task-3-4">
        <div class="icon-part">4.</div>
        <div class="text-part">задание</div></a><a class="element sub" id="contents-task-3-5" href="#task-3-5">
        <div class="icon-part">5.</div>
        <div class="text-part">задание</div></a><a class="element" href="#lab-4">
        <div class="icon-part">4.</div>
        <div class="text-part">лабораторная</div></a><a class="element sub" id="contents-task-4-1" href="#task-4-1">
        <div class="icon-part">1.</div>
        <div class="text-part">задание</div></a><a class="element sub" id="contents-task-4-2" href="#task-4-2">
        <div class="icon-part">2.</div>
        <div class="text-part">задание</div></a><a class="element sub" id="contents-task-4-3" href="#task-4-3">
        <div class="icon-part">3.</div>
        <div class="text-part">задание</div></a>
    </nav>
    <div id="main">
      <div class="labs">
        <div class="header">
          <h2>Первый Блок</h2>
        </div>
        <div class="lab" id="lab-1"><a name="#lab-1">
            <h4>Практическое занятие 1. Введение в PL/SQL</h4></a>
          <ul>
            <li>Типы блоков.</li>
            <li>Структура блока.</li>
            <li>Выполнение анонимного блока.</li>
            <li>Вывод сообщений при помощи пакета <code>DBMS_OUTPUT</code>.</li>
          </ul>
          <div class="task" id="task-1-1">
            <p class="task-text" name="task-1-1"><b>Задание 1.</b> Какой из перечисленных блоков кода выполнится успешно?</p>
            <pre class="line-numbers wrong"><code class="language-plsql">
                BEGIN
                END;</code></pre>
            <pre class="line-numbers wrong"><code class="language-plsql">
                DECLARE
                  amount INTEGER(10);
                END;</code></pre>
            <pre class="line-numbers wrong"><code class="language-plsql">
                DECLARE
                BEGIN
                END;</code></pre>
            <pre class="line-numbers correct"><code class="language-plsql">
                DECLARE
                  amount INTEGER(10);
                BEGIN
                  DBMS_OUTPUT.PUT_LINE(amount);
                END;
                </code></pre>
          </div>
          <div class="task" id="task-1-2">
            <p class="task-text" name="task-1-2"><b>Задание 2.</b> Напишите и выполните анонимный блок кода для вывода фразы <code>Hello, World!</code>. Сохраните созданный скрипт в файле <code>lab_01_02.sql</code>.</p>
            <pre class="line-numbers undefined"><code class="language-plsql">
                BEGIN
                  DBMS_OUTPUT.PUT_LINE('Hello, World!');
                END;</code></pre>
            <pre><code class="language-output">Hello, World!</code></pre>
          </div>
        </div>
        <div class="lab" id="lab-2"><a name="#lab-2">
            <h4>Практическое занятие 2. Объявление переменных PL/SQL</h4></a>
          <ul>
            <li>Требования к именам переменных.</li>
            <li>Основные скалярные типы данных PL/SQL.</li>
            <li>Атрибут <code>%TYPE</code>.</li>
            <li>Связанные переменные.</li>
          </ul>
          <div class="task" id="task-2-1">
            <p class="task-text" name="task-2-1"><b>Задание 1.</b> Укажите правильные и неправильные имена переменных:</p>
            <ul>
              <li><code>today</code> — <em class="correct">правильно</em>.</li>
              <li><code>last_name</code> — <em class="correct">правильно</em>.</li>
              <li><code>today’s date</code> — <em class="wrong">неправильно</em>!</li>
              <li><code>Number_of_days_February_this_year</code> — <em class="wrong">неправильно</em>!</li>
              <li><code>IsLeap$year</code> — <em class="correct">правильно</em>.</li>
              <li><code>#number</code> — <em class="wrong">неправильно</em>!</li>
              <li><code>NUMBER#</code> — <em class="correct">правильно</em>.</li>
              <li><code>number1to7</code> — <em class="correct">правильно</em>.</li>
            </ul>
          </div>
          <div class="task" id="task-2-2">
            <p class="task-text" name="task-2-2"><b>Задание 2.</b> Укажите правильные и неправильные инструкции декларирования и инициализации:</p>
            <ul>
              <li><code>Numbers_of_copies PLS_INTEGER;</code> — <em class="correct">правильно</em>.</li>
              <li><code>printer_name constant VARCHAR2(10);</code> — <em class="wrong">неправильно</em>!</li>
              <li><code>deliver_to VARCHAR2(10):=Jonson;</code> — <em class="wrong">неправильно</em>!</li>
              <li><code>by_when DATE:=SYSDATE+1;</code> — <em class="correct">правильно</em>.</li>
            </ul>
          </div>
          <div class="task" id="task-2-3">
            <p class="task-text" name="task-2-3"><b>Задание 3.</b> Проанализируйте следующий анонимный блок и выберите подходящее утверждение:</p>
            <pre class="line-numbers undefined"><code class="language-plsql">
                SET SERVEROUTPUT ON
                DECLARE
                  fname VARCHAR(20);
                  lname VARCHAR(15) DEFAULT 'fernandez';
                BEGIN
                  DBMS_OUTPUT.PUT_LINE(FNAME || ' ' || lname);
                END;</code></pre>
            <ul>
              <li class="correct">Блок выполнится успешно и распечатает <code>fernandez</code>.</li>
              <li>Блок выдаст ошибку из-за того, что переменная <code>fname</code> используется без инициализации.</li>
              <li>Блок выполнится успешно и напечатает <code>null fernandez</code>.</li>
              <li>Блок выдаст ошибку, потому что нельзя использовать инструкцию <code>DEFAULT</code> для инициализации переменных типа <code>VARCHAR2</code>.</li>
              <li>Блок выдаст ошибку, потому что переменная <code>FNAME</code> не декларирована.</li>
            </ul>
          </div>
          <div class="task" id="task-2-4">
            <p class="task-text" name="task-2-4"><b>Задание 4.</b> Загрузите в редактор скрипт для создания анонимного блока из пункта 2 первой Лабораторной работы, который вы сохранили в файле <code>lab_01_02.sql</code>.</p>
            <ul>
              <li>Добавьте в блок секцию декларирования переменных и включите в нее:
                <ul>
                  <li>Переменную с именем <code>today</code>, типом данных <code>DATE</code> и с инициализацией по умолчанию с помощью системной функции <code>SYSDATE</code>.</li>
                  <li>Переменную <code>tomorrow</code> такого же типа данных, что и переменная <code>today</code>. Воспользуйтесь при этом директивой <code>%TYPE</code>.</li>
                </ul>
              </li>
              <li>В исполняемой секции блока инициализируйте переменную <code>tomorrow</code> с помощью выражения прибавляющего один день к текущему значению переменной today.</li>
              <li>Распечатайте значения переменных <code>today</code> и <code>tomorrow</code> после фразы <code>Hello, World!</code>.</li>
            </ul>
            <pre class="line-numbers undefined"><code class="language-plsql">DECLARE
  today DATE := SYSDATE;
  tomorrow today%type;
BEGIN
  tomorrow := today + 1;
  DBMS_OUTPUT.PUT_LINE('Hello, World!');
  DBMS_OUTPUT.PUT_LINE('Today is ' || today || ' and tomorrow is ' || tomorrow);
END;</code></pre>
            <pre><code class="language-output">
                Hello, World!
                Today is 18.02.19 and tomorrow is 19.02.19
                </code></pre>
          </div>
          <div class="task" id="task-2-5">
            <p class="task-text" name="task-2-5"><b>Задание 5.</b> Добавьте в скрипт 2 связанных (<code>bind</code>) переменных: <code>basic_perсent</code> и <code>pf_percent</code> типа <code>NUMBER</code>;</p>
            <ul>
              <li>В исполняемой секции кода присвойте этим переменным значения <code>45</code> и <code>12</code> соответственно.</li>
              <li>Отделите исполняемый блок от остальной части скрипта инструкцией <code>/</code> и выведите значения связанных переменных с помощью инструкции <code>PRINT</code>.</li>
              <li>Сохраните скрипт под именем <code>lab_02_05.sql</code> — он пригодится вам в следующих работах.</li>
            </ul>
            <pre class="line-numbers undefined"><code class="language-plsql">VARIABLE basic_perсent NUMBER;
VARIABLE pf_percent    NUMBER;
DECLARE
  today DATE := SYSDATE;
  tomorrow today%type;
BEGIN
	:basic_perсent := 45;
	:pf_percent    := 12;
	tomorrow       := today + 1;
  DBMS_OUTPUT.PUT_LINE('Hello, World!');
  DBMS_OUTPUT.PUT_LINE('Today is ' || today || ' and tomorrow is ' || tomorrow);
END;
/
PRINT basic_perсent pf_percent;</code></pre>
            <pre><code class="language-output">
                BASIC_PERСENT
                -------------
                           45
                
                PF_PERCENT
                ----------
                        12
                
                Hello, World!
                Today is 18.02.19 and tomorrow is 19.02.19</code></pre>
          </div>
        </div>
        <div class="lab" id="lab-3"><a name="#lab-3">
            <h4>Практическое занятие 3. Команды исполняемой секции</h4></a>
          <ul>
            <li>Виды преобразований типов данных.</li>
            <li>Вложенные блоки и области видимости.</li>
            <li>Метки блоков.</li>
          </ul>
          <div class="task" id="task-3-1">
            <p class="task-text" name="task-3-1"><b>Задание 1.</b> Проанализируйте блок кода и дополните его трассировочными инструкциями, необходимыми для ответа на вопросы:</p>
            <pre class="line-numbers wrong"><code class="language-plsql">
                DECLARE
                  weight NUMBER(3) := 600;
                  message VARCHAR2(255) := 'Product 10012';
                BEGIN
                  DECLARE
                    weight NUMBER(3) := 1;
                    message VARCHAR2(255) := 'Product 11001';
                    new_locn VARCHAR2(50) := 'Europe';
                  BEGIN
                    weight := weight + 1;
                    new_locn := 'Western ' || new_locn;
                    /*(1)*/
                  END;
                  weight := weight + 1;
                  message := message || ' is in stock';
                  new_locn := 'Western ' || new_locn;
                  /*(2)*/
                END;
                /</code></pre>
            <p class="comment">Данный блок кода не работает из-за 16-ой строки (обращение к переменной <code>new_locn</code>, которая определена лишь во вложенном блоке). Если убрать 16-ую строку, то получим: </p>
            <ul>
              <li>Значение переменной <code>weight</code> в позиции <code>(1)</code> — <code>2</code>.</li>
              <li>Значение переменной <code>new_locn</code> в позиции <code>(1)</code> — <code>'Western Europe'</code>.</li>
              <li>Значение переменной <code>weight</code> в позиции <code>(2)</code> — <code>601</code>.</li>
              <li>Значение переменной <code>message</code> в позиции <code>(2)</code> — <code>'Product 10012 is in stock'</code>.</li>
              <li>Значение переменной <code>new_locn</code> в позиции <code>(2)</code> — переменная не доступна в данной позиции.</li>
            </ul>
            <pre class="line-numbers undefined"><code class="language-plsql">DECLARE
  weight NUMBER(3) := 600;
  message VARCHAR2(255) := 'Product 10012';
BEGIN
  DECLARE
    weight NUMBER(3) := 1;
    message VARCHAR2(255) := 'Product 11001';
    new_locn VARCHAR2(50) := 'Europe';
  BEGIN
    weight := weight + 1;
    new_locn := 'Western ' || new_locn;
    DBMS_OUTPUT.PUT_LINE('(1) weight = ' || weight);
    DBMS_OUTPUT.PUT_LINE('(1) new_locn = ' || new_locn);
    /*(1)*/
  END;
  weight := weight + 1;
  message := message || ' is in stock';
  -- new_locn := 'Western ' || new_locn;
  DBMS_OUTPUT.PUT_LINE('(2) weight = ' || weight);
  DBMS_OUTPUT.PUT_LINE('(2) message = ' || message);
  /*(2)*/
END;
/</code></pre>
            <pre><code class="language-output">
                (1) weight = 2
                (1) new_locn = Western Europe
                (2) weight = 601
                (2) message = Product 10012 is in stock
                </code></pre>
          </div>
          <div class="task" id="task-3-2">
            <p class="task-text" name="task-3-2"><b>Задание 2.</b> Проанализируйте блок кода и ответьте на вопросы (добавьте необходимые трассировочные инструкции):</p>
            <pre class="line-numbers undefined"><code class="language-plsql">
                DECLARE
                  customer VARCHAR2(50) := 'Womansport';
                  credit_rating VARCHAR2(50) := 'EXCELLENT';
                BEGIN
                  DECLARE
                    customer NUMBER(7) := 201;
                    name VARCHAR2(25) := 'Unisports';
                  BEGIN
                    credit_rating :='GOOD';
                    …
                  END;
                  …
                END;
                /</code></pre>
            <ul>
              <li>Значение и тип данных переменной <code>customer</code> во вложенном блоке: <code>201, NUMBER(7)</code>.</li>
              <li>Значение и тип данных переменной <code>credit_rating</code> во вложенном блоке: <code>'GOOD', VARCHAR2(50)</code>.</li>
              <li>Значение и тип данных переменной <code>customer</code> в основном (внешнем) блоке: <code>'Womansport', VARCHAR2(50)</code>.</li>
              <li>Значение и тип данных переменной <code>name</code> в основном блоке: <code>not accessible</code>.</li>
              <li>Значение и тип данных переменной <code>credit_rating</code> в основном блоке: <code>'GOOD', VARCHAR2(50)</code>.</li>
            </ul>
            <pre class="line-numbers undefined"><code class="language-plsql">DECLARE
  customer VARCHAR2(50) := 'Womansport';
  credit_rating VARCHAR2(50) := 'EXCELLENT';
BEGIN
  DECLARE
    customer NUMBER(7) := 201;
    name VARCHAR2(25) := 'Unisports';
  BEGIN
    credit_rating :='GOOD';
    DBMS_OUTPUT.PUT_LINE('nested customer = ' || customer || ', type = NUMBER(7)');
    DBMS_OUTPUT.PUT_LINE('nested credit_rating = ' || credit_rating || ', type = VARCHAR2(50)');
  END;
  DBMS_OUTPUT.PUT_LINE('main customer = ' || customer || ', type = VARCHAR2(50)');
  DBMS_OUTPUT.PUT_LINE('main name is not accessible in this block');
  DBMS_OUTPUT.PUT_LINE('main credit_rating = ' || credit_rating || ', type = VARCHAR2(50)');
END;
/</code></pre>
            <pre><code class="language-output">
                nested customer = 201, type = NUMBER(7)
                nested credit_rating = GOOD, type = VARCHAR2(50)
                main customer = Womansport, type = VARCHAR2(50)
                main name is not accessible in this block
                main credit_rating = GOOD, type = VARCHAR2(50)
                </code></pre>
          </div>
          <div class="task" id="task-3-3">
            <p class="task-text" name="task-3-3"><b>Задание 3.</b> Откройте скрипт, сохраненный в файле <code>lab_02_05.sql</code>. Выполните скрипт. Посмотрите на результат его работы. Теперь в него надо внести изменения:<br><b>Замечание: по смыслу и в соответствии с дальнейшими заданиями, необходимо закомментировать декларацию и присвоение для переменных <code>today</code> и <code>tomorrow</code>.</b></p>
            <ul>
              <li>Закомментируйте строчку, где выполняется декларирование связанных переменных.</li>
              <li>Закомментируйте инструкции, в которых связанным переменным присваиваются значения.</li>
              <li>Декларируйте две переменные: <code>fname</code> типа <code>VARCHAR2(15)</code>, и <code>emp_sal</code> типа <code>NUMBER(10)</code>.</li>
              <li>В исполняемую секцию включите инструкцию выборки имени и зарплаты <code>110</code> сотрудника из таблицы <code>employees</code>.
                <pre class="line-numbers undefined"><code class="language-plsql">
                    SELECT first_name, salary
                    INTO fname, emp_sal FROM employees
                    WHERE employee_id=110;</code></pre>
              </li>
              <li>Поменяйте инструкцию, которая печатала «<code>Hello, World!</code>» на инструкцию, которая печатает «<code>Hello, </code>» и имя сотрудника.</li>
              <li>Подсчитайте налоговый вычет на основе зарплаты сотрудника. Используйте для этого следующую схему: налоговый вычет составляет 12% от базовой части зарплаты, а базовая часть зарплаты — это 45% от зарплаты.</li>
              <li>После приветствия сотрудника по имени – распечатайте его зарплату, и подсчитанный налоговый вычет.</li>
              <li>Результат должен выглядеть примерно так:
                <pre><code class="language-output">
                    Hello John
                    YOUR SALARY IS: 8200
                    YOUR CONTRIBUTION TOWARDS PF: 442.8
                    PL/SQL procedure successfully completed.</code></pre>
              </li>
            </ul>
            <pre class="line-numbers undefined"><code class="language-plsql">-- VARIABLE basic_perсent NUMBER;
-- VARIABLE pf_percent    NUMBER;
DECLARE
  -- today DATE := SYSDATE;
  -- tomorrow today%type;
  fname VARCHAR2(15);
  emp_sal NUMBER(10);
BEGIN
  -- :basic_perсent := 45;
  -- :pf_percent    := 12;
  -- tomorrow       := today + 1;
  SELECT first_name, salary
  INTO fname, emp_sal FROM employees
  WHERE employee_id=110;
  DBMS_OUTPUT.PUT_LINE('Hello, ' || fname);
  DBMS_OUTPUT.PUT_LINE('YOUR SALARY IS: ' || emp_sal);
  DBMS_OUTPUT.PUT_LINE(
       'YOUR CONTRIBUTION TOWARDS PF: '
    || ROUND((0.12 * 0.45) * emp_sal, 1)
  );
  -- DBMS_OUTPUT.PUT_LINE('Today is ' || today || ' and tomorrow is ' || tomorrow);
END;
/
-- PRINT basic_perсent pf_percent;</code></pre>
            <pre><code class="language-output">
                Hello, John
                YOUR SALARY IS: 8200
                YOUR CONTRIBUTION TOWARDS PF: 442.8
                
                </code></pre>
          </div>
          <div class="task" id="task-3-4">
            <p class="task-text" name="task-3-4"><b>Задание 4.</b> В этом задании вы будете работать с переменными подстановки, запрашивая их значения в <code>run-time</code>. Продолжайте модифицировать скрипт из 3-го пункта.</p>
            <ul>
              <li>Добавьте в скрипт инструкцию <code>PROMPT</code> с информационным сообщением «<code>Укажите номер сотрудника</code>».</li>
              <li>Добавьте декларацию переменной <code>empno</code> так, чтобы она инициализировалась значением, полученным у пользователя.</li>
              <li>Измените инструкцию <code>SELECT</code> так, чтобы при поиске информации о сотруднике использовать значение переменной <code>empno</code>.</li>
              <li>Выполните скрипт и сохраните его под именем <code>lab_03_04_soln.sql</code>.</li>
              <li>Результат должен выглядеть примерно так (при <code>empno = 100</code>):</li>
              <pre><code class="language-output">
                  Hello Steven
                  YOUR SALARY IS: 24000
                  YOUR CONTRIBUTION TOWARDS PF: 1296
                  PL/SQL procedure successfully completed.</code></pre>
            </ul>
            <pre class="line-numbers undefined"><code class="language-plsql">ACCEPT empno NUMBER PROMPT 'Укажите номер сотрудника';
DECLARE
  fname VARCHAR2(15);
  emp_sal NUMBER(10);
BEGIN
  SELECT first_name, salary
  INTO fname, emp_sal FROM employees
  WHERE employee_id = &&empno;
  DBMS_OUTPUT.PUT_LINE('Hello, ' || fname);
  DBMS_OUTPUT.PUT_LINE('YOUR SALARY IS: ' || emp_sal);
  DBMS_OUTPUT.PUT_LINE(
       'YOUR CONTRIBUTION TOWARDS PF: '
    || ROUND((0.12 * 0.45) * emp_sal, 1)
  );
END;
/</code></pre>
            <pre><code class="language-output">
                Hello, Steven
                YOUR SALARY IS: 24000
                YOUR CONTRIBUTION TOWARDS PF: 1296
                </code></pre>
          </div>
          <div class="task" id="task-3-5">
            <p class="task-text" name="task-3-5"><b>Задание 5.</b> Выполните скрипт <code>lab_03_05.sql</code> (<code>CREATE TABLE employee_details AS SELECT * FROM EMPLOYEES</code>). Будет создана таблица <code>EMPLOYEE_DETAILS</code>. Таблицы <code>employees</code> и <code>employee_details</code> имеют одинаковую структуру и данные. Все дальнейшие модификации выполняйте над данными из таблицы <code>employee_details</code>.</p>
          </div>
        </div>
        <div class="lab" id="lab-4"><a name="#lab-4">
            <h4>Практическое занятие 4. Взаимодействие с сервером Oracle</h4></a>
          <ul>
            <li>Раздел <code>INTO</code> для сохранения результатов команд SQL.</li>
            <li>Явные и неявные курсоры.</li>
            <li>Атрибуты неявных курсоров.</li>
          </ul>
          <div class="task" id="task-4-1">
            <p class="task-text" name="task-4-1"><b>Задание 1.</b> Создайте скрипт для выборки максимального номера отдела, сохраните его в переменной <code>max_deptno</code>, распечатайте полученное значение:</p>
            <ul>
              <li>Декларируйте переменную <code>max_deptno</code> типа <code>NUMBER</code>.</li>
              <li>В исполняемой секции блока выберите максимальное значение номера отдела и сохраните его в переменной.</li>
              <li>Распечатайте значение переменной в конце исполняемой секции.</li>
              <li>Сохраните результат в файле <code>lab_04_01_soln.sql</code>.</li>
              <li>Результат должен выглядеть примерно так:</li>
              <pre><code class="language-output">
                  The maximum department_id is: 270
                  PL/SQL procedure successfully completed.</code></pre>
            </ul>
            <pre class="line-numbers undefined"><code class="language-plsql">DECLARE
  max_deptno NUMBER;
BEGIN
  SELECT MAX(Department_ID)
  INTO max_deptno
  FROM Departments;
  DBMS_OUTPUT.PUT_LINE('The maximum department_id is: ' || max_deptno);
END;</code></pre>
            <pre><code class="language-output">
                The maximum department_id is: 270
                </code></pre>
          </div>
          <div class="task" id="task-4-2">
            <p class="task-text" name="task-4-2"><b>Задание 2.</b> Измените скрипт из упражнения 1.</p>
            <ul>
              <li>В скрипте <code>lab_04_01_soln.sql</code> декларируйте две переменные: <code>dept_name</code> такого же типа, что и столбец <code>departments.department_name</code> и связанную переменную <code>dept_id</code> типа <code>NUMBER</code>.</li>
              <li>Присвойте переменной <code>dept_name</code> значение «<code>Education</code>» в секции декларации.</li>
              <li>Прибавьте к полученному максимальному значению номера отдела <code>10</code> и присвойте полученную цифру в переменную <code>dept_id</code>.</li>
              <li>Воспользуйтесь значениями переменных <code>dept_name</code> и <code>dept_id</code> в инструкции <code>INSERT</code> в таблицу <code>departments</code>. Для заполнения столбца <code>location_id</code> используйте <code>NULL</code> значение.</li>
              <li>С помощью атрибута <code>SQL%ROWCOUNT</code> узнайте количество строк обработанных инструкцией <code>INSERT</code>.</li>
              <li>С помощью <code>SELECT</code> инструкции убедитесь, что строчка добавлена.</li>
              <li>Сохраните скрипт в файле <code>lab_04_02_soln.sql</code>.</li>
            </ul>
            <pre class="line-numbers undefined"><code class="language-plsql">VARIABLE dept_id NUMBER;
DECLARE
  max_deptno NUMBER;
  dept_name Departments.Department_Name%TYPE := 'Education';
BEGIN
  SELECT MAX(Department_ID)
  INTO max_deptno
  FROM Departments;

  :dept_id := max_deptno + 10;
  
  INSERT INTO Departments (Department_ID, Department_Name, Location_ID)
  VALUES                  (:dept_id,      dept_name,       NULL       );
  
  DBMS_OUTPUT.PUT_LINE('The maximum department_id is: ' || max_deptno);
  DBMS_OUTPUT.PUT_LINE(SQL%ROWCOUNT || ' row(s) added');
END;
/

SELECT *
FROM Departments;</code></pre>
            <pre><code class="language-output">
                The maximum department_id is: 280
                1 row(s) added</code></pre><row class="aligment-center"><table class="table table-SQL table-bordered table-hover table-sm"><thead class="thead-dark"><tr><th>DEPARTMENT_ID</th><th>DEPARTMENT_NAME</th><th>MANAGER_ID</th><th>LOCATION_ID</th></tr></thead><tbody><tr><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><td>260</td><td>Recruiting</td><td>(null)</td><td>1700</td></tr><tr><td>270</td><td>Payroll</td><td>(null)</td><td>1700</td></tr><tr><td>280</td><td>Education</td><td>(null)</td><td>(null)</td></tr></tbody></table></row>
          </div>
          <div class="task" id="task-4-3">
            <p class="task-text" name="task-4-3"><b>Задание 3.</b> С помощью инструкции <code>UPDATE</code> измените значение <code>location_id</code>, для вновь добавленного отдела на <code>3000</code>. Продолжите работу с предыдущим скриптом.</p>
            <ul>
              <li>В исполняемой секции блока выполните инструкцию <code>UPDATE</code>.</li>
              <li>Выведите новое состояние записи с помощью инструкции <code>SELECT</code>.</li>
              <li>После проверки удалите добавленную строку.</li>
              <li>Сохраните скрипт под именем <code>lab_04_03_soln.sql</code>.</li>
            </ul>
            <pre class="line-numbers undefined"><code class="language-plsql">VARIABLE dept_id NUMBER;
DECLARE
  max_deptno NUMBER;
  dept_name Departments.Department_Name%TYPE := 'Education';
BEGIN
  SELECT MAX(Department_ID)
  INTO max_deptno
  FROM Departments;

  :dept_id := max_deptno + 10;
  
  INSERT INTO Departments (Department_ID, Department_Name, Location_ID)
  VALUES                  (:dept_id,      dept_name,       NULL       );
  The maximum department_id is: 270
  1 row(s) added

  UPDATE Departments
  SET Location_ID = 3000
  WHERE Department_ID = :dept_id;
END;
/

SELECT *
FROM Departments;</code></pre>
            <pre><code class="language-output">
                The maximum department_id is: 270
                There were added 1 rows.</code></pre><row class="aligment-center"><table class="table table-SQL table-bordered table-hover table-sm"><thead class="thead-dark"><tr><th>DEPARTMENT_ID</th><th>DEPARTMENT_NAME</th><th>MANAGER_ID</th><th>LOCATION_ID</th></tr></thead><tbody><tr><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><td>260</td><td>Recruiting</td><td>(null)</td><td>1700</td></tr><tr><td>270</td><td>Payroll</td><td>(null)</td><td>1700</td></tr><tr><td>280</td><td>Education</td><td>(null)</td><td>3000</td></tr></tbody></table></row>
            <pre class="line-numbers undefined"><code class="language-plsql">
                DELETE FROM Departments
                WHERE Department_ID = (SELECT MAX(Department_ID) FROM Departments);</code></pre>
            <pre><code class="language-output">1 row deleted.</code></pre>
          </div>
        </div>
      </div>
    </div>
    <script src="./../js/prism.js"></script>
    <script src="./../js/setup.js"></script>
    <script src="./../js/main.js"></script>
  </body>
</html>